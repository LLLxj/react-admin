{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-redux'), require('redux'), require('redux-thunk')) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-redux', 'redux', 'redux-thunk'], factory) : (global = global || self, factory(global.howLongUntilLunch = {}, global.React, global.reactRedux, global.redux, global.thunk));\n})(this, function (exports, React, reactRedux, redux, thunk) {\n  'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n  thunk = thunk && Object.prototype.hasOwnProperty.call(thunk, 'default') ? thunk['default'] : thunk;\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  /*\r\n   * File: type.js\r\n   * Desc: 描述\r\n   * File Created: 2019-03-18 00:22:03\r\n   * Author: chenghao\r\n   * ------\r\n   * Copyright 2019 - present, chenghao\r\n   */\n\n\n  var REQUEST_DATA = 'REQUEST_DATA';\n  var RECEIVE_DATA = 'RECEIVE_DATA';\n  /**\r\n   * 初始化state\r\n   * @param {*} param0.isFetching 是否获取中的状态\r\n   * @param {*} param0.data 初始的数据值\r\n   */\n\n  var initialState = function initialState() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$isFetching = _ref.isFetching,\n        isFetching = _ref$isFetching === void 0 ? true : _ref$isFetching,\n        _ref$data = _ref.data,\n        data = _ref$data === void 0 ? {} : _ref$data;\n\n    return {\n      isFetching: isFetching,\n      data: data\n    };\n  };\n  /**\r\n   * 统一处数据\r\n   * @param {*} state\r\n   * @param {*} action\r\n   */\n\n\n  var handleData = function handleData() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState();\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case REQUEST_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isFetching: true\n        });\n\n      case RECEIVE_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isFetching: false,\n          data: action.data,\n          timeStamp: Date.now()\n        });\n\n      default:\n        return _objectSpread2({}, state);\n    }\n  };\n\n  var alitaState = function alitaState() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case RECEIVE_DATA:\n      case REQUEST_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, _defineProperty({}, action.category, handleData(state[action.category], action)));\n\n      default:\n        return _objectSpread2({}, state);\n    }\n  };\n\n  var reducer = redux.combineReducers({\n    alitaState: alitaState\n  });\n  /*\r\n   * File: Provider\r\n   * Desc: redux provider\r\n   * File Created: 2019-03-18 00:40:01\r\n   * Author: chenghao\r\n   * ------\r\n   * Copyright 2019 - present, chenghao\r\n   */\n\n  var middleware = [thunk];\n  var store = redux.createStore(reducer, redux.applyMiddleware.apply(void 0, middleware));\n\n  var Provider = function (_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/React__default.createElement(reactRedux.Provider, {\n      store: store\n    }, children);\n  };\n\n  var funcs;\n  /**\r\n   * 注册接口请求api函数\r\n   * @param {*} apis\r\n   */\n\n  var setConfig = function setConfig(apis) {\n    return funcs = apis;\n  };\n\n  var requestData = function requestData(category) {\n    return {\n      type: REQUEST_DATA,\n      category: category\n    };\n  };\n\n  var receiveData = function receiveData(data, category) {\n    return {\n      type: RECEIVE_DATA,\n      data: data,\n      category: category\n    };\n  };\n  /**\r\n   * 请求数据调用方法\r\n   * @param option1 以下對象\r\n   * @param funcName      请求接口的函数名\r\n   * @param params        请求接口的参数\r\n   * @param stateName     state的名称\r\n   * @param data          非异步请求时state的值\r\n   * @param option2 非异步请求时state的值\r\n   *\r\n   * stateName 为空时，默认设置为api函数的名称\r\n   */\n\n\n  var setAlitaState = function setAlitaState(option1, option2) {\n    return function (dispatch) {\n      var funcName, params, stateName, data;\n\n      if (_typeof(option1) === 'object') {\n        funcName = option1.funcName;\n        params = option1.params;\n        var _option1$stateName = option1.stateName;\n        stateName = _option1$stateName === void 0 ? funcName : _option1$stateName;\n        data = option1.data;\n      }\n\n      if (typeof option1 === 'string') {\n        stateName = option1;\n      }\n\n      if (option2) {\n        data = option2;\n      } // 非异步请求的处理\n\n\n      if (!funcName && stateName) return dispatch(receiveData(data, stateName)); // 异步请求的处理\n\n      dispatch(requestData(stateName));\n      return funcs[funcName](params).then(function (res) {\n        return dispatch(receiveData(res, stateName));\n      });\n    };\n  };\n  /**\r\n   * transform state common\r\n   * @param {*} alitaState\r\n   * @param {*} alitaStateKeys\r\n   */\n\n\n  function transformState(alitaState, alitaStateKeys) {\n    // 默认返回整个数据对象\n    if (!alitaStateKeys) return {\n      alitaState: alitaState\n    };\n    var _transferObj = {};\n    alitaStateKeys.forEach(function (key) {\n      if (Object.prototype.toString.call(key) === '[object String]') {\n        // alitaState[key] && (_transferObj[key] = alitaState[key]);\n        _transferObj[key] = alitaState[key] || {\n          isFetching: false,\n          data: void 0\n        };\n      }\n\n      if (Object.prototype.toString.call(key) === '[object Object]') {\n        var _realKey = Object.keys(key)[0];\n        var _initialVal = key[_realKey];\n        _transferObj[_realKey] = !alitaState[_realKey] ? initialState({\n          isFetching: false,\n          data: _initialVal\n        }) : alitaState[_realKey];\n      }\n    });\n    return _objectSpread2({}, _transferObj);\n  }\n  /**\r\n   * 返回简洁的对象\r\n   * @param {*} alitaState\r\n   * @param {*} alitaStateKeys\r\n   */\n\n\n  function transformStateLight(alitaState, alitaStateKeys) {\n    var state = transformState(alitaState, alitaStateKeys);\n    return Object.keys(state).reduce(function (prev, curr) {\n      prev = _objectSpread2(_objectSpread2({}, prev), {}, _defineProperty({}, curr, state[curr].data));\n      return prev;\n    }, {});\n  }\n\n  var mapStateToProps = function mapStateToProps(_ref, alitaStateKeys) {\n    var alitaState = _ref.alitaState;\n    return transformState(alitaState, alitaStateKeys);\n  };\n\n  var mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n      setAlitaState: redux.bindActionCreators(setAlitaState, dispatch)\n    };\n  };\n\n  var index = function (alitaStateKeys) {\n    return reactRedux.connect(function (state) {\n      return mapStateToProps(state, alitaStateKeys);\n    }, mapDispatchToProps);\n  };\n  /**\r\n   * alitaCreator - set alita state\r\n   */\n\n\n  function useAlitaCreator() {\n    var dispatch = reactRedux.useDispatch();\n    return React.useCallback(function (data, state) {\n      return redux.bindActionCreators(setAlitaState.bind(null, data, state), dispatch)();\n    }, [dispatch]);\n  }\n  /**\r\n   * get alita state from redux\r\n   * @param {*} alitaStateKeys keys - extract alita single data\r\n   * @example\r\n   * eg: const { alita } = useAlitaState([{ alita: '测试' }]);\r\n   * alita = { isFetching: false, data: '测试', timeStamp: xxx }\r\n   */\n\n\n  function useAlitaState(alitaStateKeys) {\n    return reactRedux.useSelector(function (_ref) {\n      var alitaState = _ref.alitaState;\n      return transformState(alitaState, alitaStateKeys);\n    }, reactRedux.shallowEqual);\n  }\n  /**\r\n   * 获取简洁的alita对象\r\n   * @param {*} alitaStateKeys\r\n   * @example\r\n   * eg: const { alita } = useAlitaStateLight([{ alita: '测试' }]);\r\n   * alita = '测试'\r\n   */\n\n\n  function useAlitaStateLight(alitaStateKeys) {\n    return reactRedux.useSelector(function (_ref2) {\n      var alitaState = _ref2.alitaState;\n      return transformStateLight(alitaState, alitaStateKeys);\n    }, reactRedux.shallowEqual);\n  }\n  /**\r\n   * 校验options\r\n   * @param {*} options\r\n   */\n\n\n  function validateOptions(options) {\n    var keys = ['light'];\n    return keys.some(function (key) {\n      return options.hasOwnProperty(key);\n    });\n  }\n  /**\r\n   *\r\n   * @param  {...any} args\r\n   * @example\r\n   * args 可以传两个参数\r\n   * 1\r\n   */\n\n\n  function useAlita() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var options = args.slice(args.length - 1)[0];\n    options = validateOptions(options) ? options : null;\n    var stateKeys = options ? args.slice(0, args.length - 1) : args;\n    var setAlita = useAlitaCreator();\n    var alitaState = options && options.light ? useAlitaStateLight(stateKeys) : useAlitaState(stateKeys);\n    return [].concat(_toConsumableArray(Object.keys(alitaState).map(function (key) {\n      return alitaState[key];\n    })), [setAlita]);\n  }\n\n  exports.AlitaProvider = Provider;\n  exports.connectAlita = index;\n  exports.setAlitaState = setAlitaState;\n  exports.setConfig = setConfig;\n  exports.useAlita = useAlita;\n  exports.useAlitaCreator = useAlitaCreator;\n  exports.useAlitaState = useAlitaState;\n  exports.useAlitaStateLight = useAlitaStateLight;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/Users/liuzijian/person/react/my-react-admin/node_modules/redux-alita/dist/redux-alita.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","howLongUntilLunch","React","reactRedux","redux","thunk","React__default","Object","prototype","hasOwnProperty","call","_typeof","obj","Symbol","iterator","constructor","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","toString","slice","name","test","len","arr2","TypeError","REQUEST_DATA","RECEIVE_DATA","initialState","_ref","undefined","_ref$isFetching","isFetching","_ref$data","data","handleData","state","action","type","timeStamp","Date","now","alitaState","category","reducer","combineReducers","middleware","store","createStore","applyMiddleware","Provider","children","createElement","funcs","setConfig","apis","requestData","receiveData","setAlitaState","option1","option2","dispatch","funcName","params","stateName","_option1$stateName","then","res","transformState","alitaStateKeys","_transferObj","_realKey","_initialVal","transformStateLight","reduce","prev","curr","mapStateToProps","mapDispatchToProps","bindActionCreators","index","connect","useAlitaCreator","useDispatch","useCallback","bind","useAlitaState","useSelector","shallowEqual","useAlitaStateLight","_ref2","validateOptions","options","some","useAlita","_len","args","_key","stateKeys","setAlita","light","concat","map","AlitaProvider","connectAlita"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-redux'), require('redux'), require('redux-thunk')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-redux', 'redux', 'redux-thunk'], factory) :\n  (global = global || self, factory(global.howLongUntilLunch = {}, global.React, global.reactRedux, global.redux, global.thunk));\n}(this, (function (exports, React, reactRedux, redux, thunk) { 'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n  thunk = thunk && Object.prototype.hasOwnProperty.call(thunk, 'default') ? thunk['default'] : thunk;\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  /*\r\n   * File: type.js\r\n   * Desc: 描述\r\n   * File Created: 2019-03-18 00:22:03\r\n   * Author: chenghao\r\n   * ------\r\n   * Copyright 2019 - present, chenghao\r\n   */\n  var REQUEST_DATA = 'REQUEST_DATA';\n  var RECEIVE_DATA = 'RECEIVE_DATA';\n\n  /**\r\n   * 初始化state\r\n   * @param {*} param0.isFetching 是否获取中的状态\r\n   * @param {*} param0.data 初始的数据值\r\n   */\n\n  var initialState = function initialState() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$isFetching = _ref.isFetching,\n        isFetching = _ref$isFetching === void 0 ? true : _ref$isFetching,\n        _ref$data = _ref.data,\n        data = _ref$data === void 0 ? {} : _ref$data;\n\n    return {\n      isFetching: isFetching,\n      data: data\n    };\n  };\n  /**\r\n   * 统一处数据\r\n   * @param {*} state\r\n   * @param {*} action\r\n   */\n\n  var handleData = function handleData() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState();\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case REQUEST_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isFetching: true\n        });\n\n      case RECEIVE_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          isFetching: false,\n          data: action.data,\n          timeStamp: Date.now()\n        });\n\n      default:\n        return _objectSpread2({}, state);\n    }\n  };\n\n  var alitaState = function alitaState() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case RECEIVE_DATA:\n      case REQUEST_DATA:\n        return _objectSpread2(_objectSpread2({}, state), {}, _defineProperty({}, action.category, handleData(state[action.category], action)));\n\n      default:\n        return _objectSpread2({}, state);\n    }\n  };\n\n  var reducer = redux.combineReducers({\n    alitaState: alitaState\n  });\n\n  /*\r\n   * File: Provider\r\n   * Desc: redux provider\r\n   * File Created: 2019-03-18 00:40:01\r\n   * Author: chenghao\r\n   * ------\r\n   * Copyright 2019 - present, chenghao\r\n   */\n\n  var middleware = [thunk];\n  var store = redux.createStore(reducer, redux.applyMiddleware.apply(void 0, middleware));\n  var Provider = (function (_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/React__default.createElement(reactRedux.Provider, {\n      store: store\n    }, children);\n  });\n\n  var funcs;\n  /**\r\n   * 注册接口请求api函数\r\n   * @param {*} apis\r\n   */\n\n  var setConfig = function setConfig(apis) {\n    return funcs = apis;\n  };\n\n  var requestData = function requestData(category) {\n    return {\n      type: REQUEST_DATA,\n      category: category\n    };\n  };\n\n  var receiveData = function receiveData(data, category) {\n    return {\n      type: RECEIVE_DATA,\n      data: data,\n      category: category\n    };\n  };\n  /**\r\n   * 请求数据调用方法\r\n   * @param option1 以下對象\r\n   * @param funcName      请求接口的函数名\r\n   * @param params        请求接口的参数\r\n   * @param stateName     state的名称\r\n   * @param data          非异步请求时state的值\r\n   * @param option2 非异步请求时state的值\r\n   *\r\n   * stateName 为空时，默认设置为api函数的名称\r\n   */\n\n\n  var setAlitaState = function setAlitaState(option1, option2) {\n    return function (dispatch) {\n      var funcName, params, stateName, data;\n\n      if (_typeof(option1) === 'object') {\n        funcName = option1.funcName;\n        params = option1.params;\n        var _option1$stateName = option1.stateName;\n        stateName = _option1$stateName === void 0 ? funcName : _option1$stateName;\n        data = option1.data;\n      }\n\n      if (typeof option1 === 'string') {\n        stateName = option1;\n      }\n\n      if (option2) {\n        data = option2;\n      } // 非异步请求的处理\n\n\n      if (!funcName && stateName) return dispatch(receiveData(data, stateName)); // 异步请求的处理\n\n      dispatch(requestData(stateName));\n      return funcs[funcName](params).then(function (res) {\n        return dispatch(receiveData(res, stateName));\n      });\n    };\n  };\n\n  /**\r\n   * transform state common\r\n   * @param {*} alitaState\r\n   * @param {*} alitaStateKeys\r\n   */\n\n  function transformState(alitaState, alitaStateKeys) {\n    // 默认返回整个数据对象\n    if (!alitaStateKeys) return {\n      alitaState: alitaState\n    };\n    var _transferObj = {};\n    alitaStateKeys.forEach(function (key) {\n      if (Object.prototype.toString.call(key) === '[object String]') {\n        // alitaState[key] && (_transferObj[key] = alitaState[key]);\n        _transferObj[key] = alitaState[key] || {\n          isFetching: false,\n          data: void 0\n        };\n      }\n\n      if (Object.prototype.toString.call(key) === '[object Object]') {\n        var _realKey = Object.keys(key)[0];\n        var _initialVal = key[_realKey];\n        _transferObj[_realKey] = !alitaState[_realKey] ? initialState({\n          isFetching: false,\n          data: _initialVal\n        }) : alitaState[_realKey];\n      }\n    });\n    return _objectSpread2({}, _transferObj);\n  }\n  /**\r\n   * 返回简洁的对象\r\n   * @param {*} alitaState\r\n   * @param {*} alitaStateKeys\r\n   */\n\n  function transformStateLight(alitaState, alitaStateKeys) {\n    var state = transformState(alitaState, alitaStateKeys);\n    return Object.keys(state).reduce(function (prev, curr) {\n      prev = _objectSpread2(_objectSpread2({}, prev), {}, _defineProperty({}, curr, state[curr].data));\n      return prev;\n    }, {});\n  }\n\n  var mapStateToProps = function mapStateToProps(_ref, alitaStateKeys) {\n    var alitaState = _ref.alitaState;\n    return transformState(alitaState, alitaStateKeys);\n  };\n\n  var mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n      setAlitaState: redux.bindActionCreators(setAlitaState, dispatch)\n    };\n  };\n\n  var index = (function (alitaStateKeys) {\n    return reactRedux.connect(function (state) {\n      return mapStateToProps(state, alitaStateKeys);\n    }, mapDispatchToProps);\n  });\n\n  /**\r\n   * alitaCreator - set alita state\r\n   */\n\n  function useAlitaCreator() {\n    var dispatch = reactRedux.useDispatch();\n    return React.useCallback(function (data, state) {\n      return redux.bindActionCreators(setAlitaState.bind(null, data, state), dispatch)();\n    }, [dispatch]);\n  }\n  /**\r\n   * get alita state from redux\r\n   * @param {*} alitaStateKeys keys - extract alita single data\r\n   * @example\r\n   * eg: const { alita } = useAlitaState([{ alita: '测试' }]);\r\n   * alita = { isFetching: false, data: '测试', timeStamp: xxx }\r\n   */\n\n  function useAlitaState(alitaStateKeys) {\n    return reactRedux.useSelector(function (_ref) {\n      var alitaState = _ref.alitaState;\n      return transformState(alitaState, alitaStateKeys);\n    }, reactRedux.shallowEqual);\n  }\n  /**\r\n   * 获取简洁的alita对象\r\n   * @param {*} alitaStateKeys\r\n   * @example\r\n   * eg: const { alita } = useAlitaStateLight([{ alita: '测试' }]);\r\n   * alita = '测试'\r\n   */\n\n  function useAlitaStateLight(alitaStateKeys) {\n    return reactRedux.useSelector(function (_ref2) {\n      var alitaState = _ref2.alitaState;\n      return transformStateLight(alitaState, alitaStateKeys);\n    }, reactRedux.shallowEqual);\n  }\n  /**\r\n   * 校验options\r\n   * @param {*} options\r\n   */\n\n  function validateOptions(options) {\n    var keys = ['light'];\n    return keys.some(function (key) {\n      return options.hasOwnProperty(key);\n    });\n  }\n  /**\r\n   *\r\n   * @param  {...any} args\r\n   * @example\r\n   * args 可以传两个参数\r\n   * 1\r\n   */\n\n\n  function useAlita() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var options = args.slice(args.length - 1)[0];\n    options = validateOptions(options) ? options : null;\n    var stateKeys = options ? args.slice(0, args.length - 1) : args;\n    var setAlita = useAlitaCreator();\n    var alitaState = options && options.light ? useAlitaStateLight(stateKeys) : useAlitaState(stateKeys);\n    return [].concat(_toConsumableArray(Object.keys(alitaState).map(function (key) {\n      return alitaState[key];\n    })), [setAlita]);\n  }\n\n  exports.AlitaProvider = Provider;\n  exports.connectAlita = index;\n  exports.setAlitaState = setAlitaState;\n  exports.setConfig = setConfig;\n  exports.useAlita = useAlita;\n  exports.useAlitaCreator = useAlitaCreator;\n  exports.useAlitaState = useAlitaState;\n  exports.useAlitaStateLight = useAlitaStateLight;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]},"metadata":{},"sourceType":"script"}